---
version: v1.2
tools:
  ## Access Groups
  ## An access group is the equivalent of an Endpoint Group in Portainer.
  ## ------------------------------------------------------------
  - name: listAccessGroups
    description: List all available access groups
    annotations:
      title: List Access Groups
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createAccessGroup
    description: Create a new access group. Use access groups when you want to define
      accesses on more than one environment. Otherwise, define the accesses on
      the environment level.
    parameters:
      - name: name
        description: The name of the access group
        type: string
        required: true
      - name: environmentIds
        description: "The IDs of the environments that are part of the access group.
          Must include all the environment IDs that are part of the group - this
          includes new environments and the existing environments that are
          already associated with the group. Example: [1, 2, 3]"
        type: array
        items:
          type: number
    annotations:
      title: Create Access Group
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: updateAccessGroupName
    description: Update the name of an existing access group.
    parameters:
      - name: id
        description: The ID of the access group to update
        type: number
        required: true
      - name: name
        description: The name of the access group
        type: string
        required: true
    annotations:
      title: Update Access Group Name
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateAccessGroupUserAccesses
    description: Update the user accesses of an existing access group.
    parameters:
      - name: id
        description: The ID of the access group to update
        type: number
        required: true
      - name: userAccesses
        description: "The user accesses that are associated with all the environments in
          the access group. The ID is the user ID of the user in Portainer.
          Example: [{id: 1, access: 'environment_administrator'}, {id: 2,
          access: 'standard_user'}]"
        type: array
        required: true
        items:
          type: object
          properties:
            id:
              description: The ID of the user
              type: number
            access:
              description: The access level of the user. Can be environment_administrator,
                helpdesk_user, standard_user, readonly_user or operator_user
              type: string
              enum:
                - environment_administrator
                - helpdesk_user
                - standard_user
                - readonly_user
                - operator_user
    annotations:
      title: Update Access Group User Accesses
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateAccessGroupTeamAccesses
    description: Update the team accesses of an existing access group.
    parameters:
      - name: id
        description: The ID of the access group to update
        type: number
        required: true
      - name: teamAccesses
        description: "The team accesses that are associated with all the environments in
          the access group. The ID is the team ID of the team in Portainer.
          Example: [{id: 1, access: 'environment_administrator'}, {id: 2,
          access: 'standard_user'}]"
        type: array
        required: true
        items:
          type: object
          properties:
            id:
              description: The ID of the team
              type: number
            access:
              description: The access level of the team. Can be environment_administrator,
                helpdesk_user, standard_user, readonly_user or operator_user
              type: string
              enum:
                - environment_administrator
                - helpdesk_user
                - standard_user
                - readonly_user
                - operator_user
    annotations:
      title: Update Access Group Team Accesses
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: addEnvironmentToAccessGroup
    description: Add an environment to an access group.
    parameters:
      - name: id
        description: The ID of the access group to update
        type: number
        required: true
      - name: environmentId
        description: The ID of the environment to add to the access group
        type: number
        required: true
    annotations:
      title: Add Environment To Access Group
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: removeEnvironmentFromAccessGroup
    description: Remove an environment from an access group.
    parameters:
      - name: id
        description: The ID of the access group to update
        type: number
        required: true
      - name: environmentId
        description: The ID of the environment to remove from the access group
        type: number
        required: true
    annotations:
      title: Remove Environment From Access Group
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  ## Environment
  ## ------------------------------------------------------------
  - name: listEnvironments
    description: List all available environments
    annotations:
      title: List Environments
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getEnvironment
    description: Get detailed information about a specific environment by its ID
    parameters:
      - name: id
        description: The ID of the environment to retrieve
        type: number
        required: true
    annotations:
      title: Get Environment
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteEnvironment
    description: Delete an environment by its ID. This action cannot be undone.
    parameters:
      - name: id
        description: The ID of the environment to delete
        type: number
        required: true
    annotations:
      title: Delete Environment
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: snapshotEnvironment
    description: >-
      Trigger a snapshot for a specific environment.
      A snapshot captures the current state of the environment including
      containers, images, volumes, and networks.
    parameters:
      - name: id
        description: The ID of the environment to snapshot
        type: number
        required: true
    annotations:
      title: Snapshot Environment
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: snapshotAllEnvironments
    description: >-
      Trigger a snapshot for all environments.
      A snapshot captures the current state of each environment including
      containers, images, volumes, and networks.
    annotations:
      title: Snapshot All Environments
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentTags
    description: Update the tags associated with an environment
    parameters:
      - name: id
        description: The ID of the environment to update
        type: number
        required: true
      - name: tagIds
        description: >-
          The IDs of the tags that are associated with the environment.
          Must include all the tag IDs that should be associated with the environment - this includes new tags and existing tags.
          Providing an empty array will remove all tags.
          Example: [1, 2, 3]
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Environment Tags
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentUserAccesses
    description: Update the user access policies of an environment
    parameters:
      - name: id
        description: The ID of the environment to update
        type: number
        required: true
      - name: userAccesses
        description: >-
          The user accesses that are associated with the environment.
          The ID is the user ID of the user in Portainer.
          Must include all the access policies for all users that should be associated with the environment.
          Providing an empty array will remove all user accesses.
          Example: [{id: 1, access: 'environment_administrator'}, {id: 2, access: 'standard_user'}]
        type: array
        required: true
        items:
          type: object
          properties:
            id:
              description: The ID of the user
              type: number
            access:
              description: The access level of the user
              type: string
              enum:
                - environment_administrator
                - helpdesk_user
                - standard_user
                - readonly_user
                - operator_user
    annotations:
      title: Update Environment User Accesses
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentTeamAccesses
    description: Update the team access policies of an environment
    parameters:
      - name: id
        description: The ID of the environment to update
        type: number
        required: true
      - name: teamAccesses
        description: >-
          The team accesses that are associated with the environment.
          The ID is the team ID of the team in Portainer.
          Must include all the access policies for all teams that should be associated with the environment.
          Providing an empty array will remove all team accesses.
          Example: [{id: 1, access: 'environment_administrator'}, {id: 2, access: 'standard_user'}]
        type: array
        required: true
        items:
          type: object
          properties:
            id:
              description: The ID of the team
              type: number
            access:
              description: The access level of the team
              type: string
              enum:
                - environment_administrator
                - helpdesk_user
                - standard_user
                - readonly_user
                - operator_user
    annotations:
      title: Update Environment Team Accesses
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  ## Environment Groups
  ## An environment group is the equivalent of an Edge Group in Portainer.
  ## ------------------------------------------------------------
  - name: createEnvironmentGroup
    description: Create a new environment group. Environment groups are the equivalent of Edge Groups in Portainer.
    parameters:
      - name: name
        description: The name of the environment group
        type: string
        required: true
      - name: environmentIds
        description: The IDs of the environments to add to the group
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Create Environment Group
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: listEnvironmentGroups
    description: List all available environment groups. Environment groups are the equivalent of Edge Groups in Portainer.
    annotations:
      title: List Environment Groups
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentGroupName
    description: Update the name of an environment group. Environment groups are the equivalent of Edge Groups in Portainer.
    parameters:
      - name: id
        description: The ID of the environment group to update
        type: number
        required: true
      - name: name
        description: The new name for the environment group
        type: string
        required: true
    annotations:
      title: Update Environment Group Name
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentGroupEnvironments
    description: Update the environments associated with an environment group. Environment groups are the equivalent of Edge Groups in Portainer.
    parameters:
      - name: id
        description: The ID of the environment group to update
        type: number
        required: true
      - name: environmentIds
        description: >-
          The IDs of the environments that should be part of the group.
          Must include all environment IDs that should be associated with the group.
          Providing an empty array will remove all environments from the group.
          Example: [1, 2, 3]
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Environment Group Environments
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentGroupTags
    description: Update the tags associated with an environment group. Environment groups are the equivalent of Edge Groups in Portainer.
    parameters:
      - name: id
        description: The ID of the environment group to update
        type: number
        required: true
      - name: tagIds
        description: >-
          The IDs of the tags that should be associated with the group.
          Must include all tag IDs that should be associated with the group.
          Providing an empty array will remove all tags from the group.
          Example: [1, 2, 3]
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Environment Group Tags
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  ## Settings
  ## ------------------------------------------------------------
  - name: getSettings
    description: Get the settings of the Portainer instance
    annotations:
      title: Get Settings
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  ## Stacks
  ## ------------------------------------------------------------
  - name: listStacks
    description: List all edge stacks. Edge stacks are deployed to Edge environments via Edge Groups. For regular Docker Compose or Swarm stacks deployed to specific environments, use listRegularStacks instead.
    annotations:
      title: List Edge Stacks
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: listRegularStacks
    description: List all regular (non-edge) stacks. These are Docker Compose or Swarm stacks deployed directly to specific environments. Returns stack ID, name, type, status, endpoint ID, entry point, creation info, and filesystem path. For edge stacks deployed via Edge Groups, use listStacks instead.
    annotations:
      title: List Regular Stacks
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getStackFile
    description: Get the compose file for a specific stack ID
    parameters:
      - name: id
        description: The ID of the stack to get the compose file for
        type: number
        required: true
    annotations:
      title: Get Stack File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createStack
    description: Create a new stack
    parameters:
      - name: name
        description: Name of the stack. Stack name must only consist of lowercase alpha
          characters, numbers, hyphens, or underscores as well as start with a
          lowercase character or number
        type: string
        required: true
      - name: file
        description: >-
          Content of the stack file. The file must be a valid
          docker-compose.yml file. example: services:
           web:
             image:nginx
        type: string
        required: true
      - name: environmentGroupIds
        description: "The IDs of the environment groups that the stack belongs to. Must
          include at least one environment group ID. Example: [1, 2, 3]"
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Create Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: updateStack
    description: Update an existing stack
    parameters:
      - name: id
        description: The ID of the stack to update
        type: number
        required: true
      - name: file
        description: >-
          Content of the stack file. The file must be a valid
          docker-compose.yml file. example: version: 3
           services:
             web:
               image:nginx
        type: string
        required: true
      - name: environmentGroupIds
        description: "The IDs of the environment groups that the stack belongs to. Must
          include at least one environment group ID. Example: [1, 2, 3]"
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  ## Regular Stacks
  ## ------------------------------------------------------------
  - name: getStack
    description: Get a specific stack by ID. Returns detailed information about a regular (non-edge) stack including name, type, status, and environment.
    parameters:
      - name: id
        description: The ID of the stack to inspect
        type: number
        required: true
    annotations:
      title: Get Stack
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteStack
    description: Delete a regular (non-edge) stack permanently. This removes the stack and all its associated containers from the environment.
    parameters:
      - name: id
        description: The ID of the stack to delete
        type: number
        required: true
      - name: environmentId
        description: The ID of the environment where the stack is deployed
        type: number
        required: true
      - name: removeVolumes
        description: Whether to remove associated volumes when deleting the stack
        type: boolean
        required: false
    annotations:
      title: Delete Stack
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: false
  - name: inspectStackFile
    description: Get the compose file content for a specific regular (non-edge) stack by its ID. Returns the raw compose file as text.
    parameters:
      - name: id
        description: The ID of the stack to get the compose file for
        type: number
        required: true
    annotations:
      title: Inspect Stack File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateStackGit
    description: Update the git configuration of a regular (non-edge) stack. Allows changing the git reference (branch/tag) and prune settings.
    parameters:
      - name: id
        description: The ID of the stack to update
        type: number
        required: true
      - name: environmentId
        description: The ID of the environment where the stack is deployed
        type: number
        required: true
      - name: referenceName
        description: The git reference name (branch or tag) to use
        type: string
        required: false
      - name: prune
        description: Whether to prune services that are no longer in the compose file
        type: boolean
        required: false
    annotations:
      title: Update Stack Git
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: redeployStackGit
    description: Trigger a git-based redeployment of a regular (non-edge) stack. Pulls the latest changes from the git repository and redeploys the stack.
    parameters:
      - name: id
        description: The ID of the stack to redeploy
        type: number
        required: true
      - name: environmentId
        description: The ID of the environment where the stack is deployed
        type: number
        required: true
      - name: pullImage
        description: Whether to pull the latest images before redeploying
        type: boolean
        required: false
      - name: prune
        description: Whether to prune services that are no longer in the compose file
        type: boolean
        required: false
    annotations:
      title: Redeploy Stack Git
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: startStack
    description: Start a stopped regular (non-edge) stack. Brings up all containers defined in the stack's compose file.
    parameters:
      - name: id
        description: The ID of the stack to start
        type: number
        required: true
      - name: environmentId
        description: The ID of the environment where the stack is deployed
        type: number
        required: true
    annotations:
      title: Start Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: stopStack
    description: Stop a running regular (non-edge) stack. Stops all containers defined in the stack's compose file.
    parameters:
      - name: id
        description: The ID of the stack to stop
        type: number
        required: true
      - name: environmentId
        description: The ID of the environment where the stack is deployed
        type: number
        required: true
    annotations:
      title: Stop Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: migrateStack
    description: Migrate a regular (non-edge) stack to another environment. Moves the stack from one environment to another, optionally renaming it.
    parameters:
      - name: id
        description: The ID of the stack to migrate
        type: number
        required: true
      - name: environmentId
        description: The current environment ID where the stack is deployed
        type: number
        required: true
      - name: targetEnvironmentId
        description: The target environment ID to migrate the stack to
        type: number
        required: true
      - name: name
        description: Optional new name for the migrated stack
        type: string
        required: false
    annotations:
      title: Migrate Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  ## Tags
  ## ------------------------------------------------------------
  - name: createEnvironmentTag
    description: Create a new environment tag
    parameters:
      - name: name
        description: The name of the tag
        type: string
        required: true
    annotations:
      title: Create Environment Tag
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: listEnvironmentTags
    description: List all available environment tags
    annotations:
      title: List Environment Tags
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteEnvironmentTag
    description: Delete an environment tag by ID
    parameters:
      - name: id
        description: The ID of the environment tag to delete
        type: number
        required: true
    annotations:
      title: Delete Environment Tag
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  ## Teams
  ## ------------------------------------------------------------
  - name: createTeam
    description: Create a new team
    parameters:
      - name: name
        description: The name of the team
        type: string
        required: true
    annotations:
      title: Create Team
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: listTeams
    description: List all available teams
    annotations:
      title: List Teams
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getTeam
    description: Get details of a specific team by ID
    parameters:
      - name: id
        description: The ID of the team to retrieve
        type: number
        required: true
    annotations:
      title: Get Team
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteTeam
    description: Delete a team by ID
    parameters:
      - name: id
        description: The ID of the team to delete
        type: number
        required: true
    annotations:
      title: Delete Team
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: updateTeamName
    description: Update the name of an existing team
    parameters:
      - name: id
        description: The ID of the team to update
        type: number
        required: true
      - name: name
        description: The new name of the team
        type: string
        required: true
    annotations:
      title: Update Team Name
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateTeamMembers
    description: Update the members of an existing team
    parameters:
      - name: id
        description: The ID of the team to update
        type: number
        required: true
      - name: userIds
        description: "The IDs of the users that are part of the team. Must include all
          the user IDs that are part of the team - this includes new users and
          the existing users that are already associated with the team. Example:
          [1, 2, 3]"
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Team Members
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  ## Users
  ## ------------------------------------------------------------
  - name: listUsers
    description: List all available users
    annotations:
      title: List Users
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getUser
    description: Get details of a specific user by ID
    parameters:
      - name: id
        description: The ID of the user to retrieve
        type: number
        required: true
    annotations:
      title: Get User
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createUser
    description: Create a new user
    parameters:
      - name: username
        description: The username of the new user
        type: string
        required: true
      - name: password
        description: The password of the new user
        type: string
        required: true
      - name: role
        description: The role of the user. Can be admin, user or edge_admin
        type: string
        required: true
        enum:
          - admin
          - user
          - edge_admin
    annotations:
      title: Create User
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: deleteUser
    description: Delete a user by ID
    parameters:
      - name: id
        description: The ID of the user to delete
        type: number
        required: true
    annotations:
      title: Delete User
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: updateUserRole
    description: Update an existing user
    parameters:
      - name: id
        description: The ID of the user to update
        type: number
        required: true
      - name: role
        description: The role of the user. Can be admin, user or edge_admin
        type: string
        required: true
        enum:
          - admin
          - user
          - edge_admin
    annotations:
      title: Update User Role
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  ## System
  ## ------------------------------------------------------------
  - name: getSystemStatus
    description: Get the system status of the Portainer instance, including version and instance ID
    annotations:
      title: Get System Status
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  ## Docker Proxy
  ## ------------------------------------------------------------
  - name: dockerProxy
    description: Proxy Docker requests to a specific Portainer environment.
      This tool can be used with any Docker API operation as documented in the Docker Engine API specification (https://docs.docker.com/reference/api/engine/version/v1.48/).
    parameters:
      - name: environmentId
        description: The ID of the environment to proxy Docker requests to
        type: number
        required: true
      - name: method
        description: The HTTP method to use to proxy the Docker API operation
        type: string
        required: true
        enum:
          - GET
          - POST
          - PUT
          - DELETE
          - HEAD
      - name: dockerAPIPath
        description: "The route of the Docker API operation to proxy. Must include the leading slash. Example: /containers/json"
        type: string
        required: true
      - name: queryParams
        description: "The query parameters to include in the Docker API operation. Must be an array of key-value pairs.
          Example: [{key: 'all', value: 'true'}, {key: 'filter', value: 'dangling'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: The key of the query parameter
            value:
              type: string
              description: The value of the query parameter
      - name: headers
        description: "The headers to include in the Docker API operation. Must be an array of key-value pairs.
          Example: [{key: 'Content-Type', value: 'application/json'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: The key of the header
            value:
              type: string
              description: The value of the header
      - name: body
        description: "The body of the Docker API operation to proxy. Must be a JSON string.
          Example: {'Image': 'nginx:latest', 'Name': 'my-container'}"
        type: string
        required: false
    annotations:
      title: Docker Proxy
      readOnlyHint: true
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false

  ## Docker Dashboard
  ## ------------------------------------------------------------
  - name: getDockerDashboard
    description: Get Docker dashboard data for a specific Portainer environment.
      Returns container, image, network, volume, stack, and service counts and status summary.
    parameters:
      - name: environmentId
        description: The ID of the environment to get Docker dashboard data for
        type: number
        required: true
    annotations:
      title: Get Docker Dashboard
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  ## Kubernetes Proxy
  ## ------------------------------------------------------------
  - name: kubernetesProxy
    description: Proxy Kubernetes requests to a specific Portainer environment.
      This tool can be used with any Kubernetes API operation as documented in the Kubernetes API specification (https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.32/).
    parameters:
      - name: environmentId
        description: The ID of the environment to proxy Kubernetes requests to
        type: number
        required: true
      - name: method
        description: The HTTP method to use to proxy the Kubernetes API operation
        type: string
        required: true
        enum:
          - GET
          - POST
          - PUT
          - DELETE
          - HEAD
      - name: kubernetesAPIPath
        description: "The route of the Kubernetes API operation to proxy. Must include the leading slash. Example: /api/v1/namespaces/default/pods"
        type: string
        required: true
      - name: queryParams
        description: "The query parameters to include in the Kubernetes API operation. Must be an array of key-value pairs.
          Example: [{key: 'watch', value: 'true'}, {key: 'fieldSelector', value: 'metadata.name=my-pod'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: The key of the query parameter
            value:
              type: string
              description: The value of the query parameter
      - name: headers
        description: "The headers to include in the Kubernetes API operation. Must be an array of key-value pairs.
          Example: [{key: 'Content-Type', value: 'application/json'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: The key of the header
            value:
              type: string
              description: The value of the header
      - name: body
        description: "The body of the Kubernetes API operation to proxy. Must be a JSON string.
          Example: {'apiVersion': 'v1', 'kind': 'Pod', 'metadata': {'name': 'my-pod'}}"
        type: string
        required: false
    annotations:
      title: Kubernetes Proxy
      readOnlyHint: true
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: getKubernetesResourceStripped
    description: >-
      Proxy GET requests to a specific Portainer environment for Kubernetes resources,
      and automatically strips verbose metadata fields (such as 'managedFields') from the API response
      to reduce its size. This tool is intended for retrieving Kubernetes resource
      information where a leaner payload is desired.
      This tool can be used with any GET Kubernetes API operation as documented
      in the Kubernetes API specification (https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.32/).
      For other methods (POST, PUT, DELETE, HEAD), use the 'kubernetesProxy' tool.
    parameters:
      - name: environmentId
        description: The ID of the environment to proxy Kubernetes GET requests to
        type: number
        required: true
      - name: kubernetesAPIPath
        description: "The route of the Kubernetes API GET operation to proxy. Must include the leading slash. Example: /api/v1/namespaces/default/pods"
        type: string
        required: true
      - name: queryParams
        description: "The query parameters to include in the Kubernetes API operation. Must be an array of key-value pairs.
          Example: [{key: 'watch', value: 'true'}, {key: 'fieldSelector', value: 'metadata.name=my-pod'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: The key of the query parameter
            value:
              type: string
              description: The value of the query parameter
      - name: headers
        description: "The headers to include in the Kubernetes API operation. Must be an array of key-value pairs.
          Example: [{key: 'Accept', value: 'application/json'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: The key of the header
            value:
              type: string
              description: The value of the header
    annotations:
      title: Get Kubernetes Resource (Stripped)
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  ## Kubernetes Native Operations

  - name: getKubernetesDashboard
    description: >-
      Get a summary dashboard for a Kubernetes environment showing counts of key resources
      including applications, config maps, ingresses, namespaces, secrets, services, and volumes.
    parameters:
      - name: environmentId
        description: The ID of the Kubernetes environment to get the dashboard for
        type: number
        required: true
    annotations:
      title: Get Kubernetes Dashboard
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  - name: listKubernetesNamespaces
    description: >-
      List all Kubernetes namespaces in a specific environment.
      Returns namespace details including name, creation date, owner, and whether the namespace
      is a default or system namespace.
    parameters:
      - name: environmentId
        description: The ID of the Kubernetes environment to list namespaces for
        type: number
        required: true
    annotations:
      title: List Kubernetes Namespaces
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  - name: getKubernetesConfig
    description: >-
      Get the kubeconfig for a specific Kubernetes environment.
      Returns the kubeconfig content that can be used to connect to the cluster.
    parameters:
      - name: environmentId
        description: The ID of the Kubernetes environment to get the kubeconfig for
        type: number
        required: true
    annotations:
      title: Get Kubernetes Config
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  ## Custom Templates
  ## ------------------------------------------------------------
  - name: listCustomTemplates
    description: List all available custom templates
    annotations:
      title: List Custom Templates
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getCustomTemplate
    description: Get details of a specific custom template by ID
    parameters:
      - name: id
        description: The ID of the custom template to retrieve
        type: number
        required: true
    annotations:
      title: Get Custom Template
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getCustomTemplateFile
    description: Get the file content of a specific custom template by ID
    parameters:
      - name: id
        description: The ID of the custom template to get the file content for
        type: number
        required: true
    annotations:
      title: Get Custom Template File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createCustomTemplate
    description: Create a new custom template from file content
    parameters:
      - name: title
        description: The title of the custom template
        type: string
        required: true
      - name: description
        description: The description of the custom template
        type: string
        required: true
      - name: fileContent
        description: The file content for the custom template (e.g. docker-compose.yml content)
        type: string
        required: true
      - name: type
        description: "The template type: 1 for swarm, 2 for compose, 3 for kubernetes"
        type: number
        required: true
      - name: platform
        description: "The platform type: 1 for linux, 2 for windows"
        type: number
        required: true
      - name: note
        description: An optional note for the custom template
        type: string
        required: false
      - name: logo
        description: An optional logo URL for the custom template
        type: string
        required: false
    annotations:
      title: Create Custom Template
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: deleteCustomTemplate
    description: Delete a custom template by ID
    parameters:
      - name: id
        description: The ID of the custom template to delete
        type: number
        required: true
    annotations:
      title: Delete Custom Template
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  ## Webhooks
  ## ------------------------------------------------------------
  - name: listWebhooks
    description: List all webhooks configured in Portainer
    annotations:
      title: List Webhooks
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createWebhook
    description: Create a new webhook for a service or container
    parameters:
      - name: resourceId
        description: The resource ID associated with the webhook (e.g., service ID)
        type: string
        required: true
      - name: endpointId
        description: The ID of the environment to deploy the webhook to
        type: number
        required: true
      - name: webhookType
        description: "The type of webhook (1: service webhook)"
        type: number
        required: true
    annotations:
      title: Create Webhook
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: deleteWebhook
    description: Delete a webhook by ID
    parameters:
      - name: id
        description: The ID of the webhook to delete
        type: number
        required: true
    annotations:
      title: Delete Webhook
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: listRegistries
    description: List all available registries
    annotations:
      title: List Registries
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getRegistry
    description: Get details of a specific registry by ID
    parameters:
      - name: id
        description: The ID of the registry to retrieve
        type: number
        required: true
    annotations:
      title: Get Registry
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createRegistry
    description: >-
      Create a new registry. Registry types: 1 = Quay.io, 2 = Azure Container Registry,
      3 = Custom registry, 4 = GitLab, 5 = ProGet, 6 = DockerHub, 7 = Amazon ECR.
    parameters:
      - name: name
        description: The name of the registry
        type: string
        required: true
      - name: type
        description: "The registry type: 1 = Quay.io, 2 = Azure Container Registry, 3 = Custom registry, 4 = GitLab, 5 = ProGet, 6 = DockerHub, 7 = Amazon ECR"
        type: number
        required: true
      - name: url
        description: The URL of the registry (e.g. docker.io, myregistry.example.com)
        type: string
        required: true
      - name: authentication
        description: Whether the registry requires authentication
        type: boolean
        required: true
      - name: username
        description: The username for authentication
        type: string
        required: false
      - name: password
        description: The password for authentication
        type: string
        required: false
      - name: baseURL
        description: The base URL of the registry (used for registries that require a separate API endpoint)
        type: string
        required: false
    annotations:
      title: Create Registry
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: updateRegistry
    description: >-
      Update an existing registry. Only the provided fields will be updated,
      other fields will retain their current values.
    parameters:
      - name: id
        description: The ID of the registry to update
        type: number
        required: true
      - name: name
        description: The new name of the registry
        type: string
        required: false
      - name: url
        description: The new URL of the registry
        type: string
        required: false
      - name: authentication
        description: Whether the registry requires authentication
        type: boolean
        required: false
      - name: username
        description: The new username for authentication
        type: string
        required: false
      - name: password
        description: The new password for authentication
        type: string
        required: false
      - name: baseURL
        description: The new base URL of the registry
        type: string
        required: false
    annotations:
      title: Update Registry
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteRegistry
    description: Delete a registry by ID
    parameters:
      - name: id
        description: The ID of the registry to delete
        type: number
        required: true
    annotations:
      title: Delete Registry
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: getBackupStatus
    description: Get the status of the last Portainer backup, including whether it failed and the timestamp
    annotations:
      title: Get Backup Status
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getBackupS3Settings
    description: Get the current S3 backup settings configured in Portainer
    annotations:
      title: Get Backup S3 Settings
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createBackup
    description: Create a backup of the Portainer server
    parameters:
      - name: password
        description: Optional password to encrypt the backup
        type: string
        required: false
    annotations:
      title: Create Backup
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: backupToS3
    description: Backup the Portainer server to an S3-compatible storage
    parameters:
      - name: accessKeyID
        description: The AWS access key ID for S3 authentication
        type: string
        required: true
      - name: secretAccessKey
        description: The AWS secret access key for S3 authentication
        type: string
        required: true
      - name: bucketName
        description: The name of the S3 bucket to store the backup
        type: string
        required: true
      - name: region
        description: The AWS region of the S3 bucket
        type: string
        required: false
      - name: s3CompatibleHost
        description: The S3-compatible host URL (for non-AWS S3 services)
        type: string
        required: false
      - name: password
        description: Optional password to encrypt the backup
        type: string
        required: false
      - name: cronRule
        description: A cron expression for scheduled S3 backups
        type: string
        required: false
    annotations:
      title: Backup to S3
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: true
  - name: restoreFromS3
    description: Restore the Portainer server from an S3-compatible storage backup
    parameters:
      - name: accessKeyID
        description: The AWS access key ID for S3 authentication
        type: string
        required: true
      - name: secretAccessKey
        description: The AWS secret access key for S3 authentication
        type: string
        required: true
      - name: bucketName
        description: The name of the S3 bucket containing the backup
        type: string
        required: true
      - name: filename
        description: The filename of the backup to restore
        type: string
        required: true
      - name: password
        description: The password to decrypt the backup (if encrypted)
        type: string
        required: false
      - name: region
        description: The AWS region of the S3 bucket
        type: string
        required: false
      - name: s3CompatibleHost
        description: The S3-compatible host URL (for non-AWS S3 services)
        type: string
        required: false
    annotations:
      title: Restore from S3
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: true
  - name: listRoles
    description: List all available roles in Portainer, including their authorizations and priority
    annotations:
      title: List Roles
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getMOTD
    description: Get the Portainer message of the day (MOTD), including title, message, and style information
    annotations:
      title: Get MOTD
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateSettings
    description: Update the Portainer settings. Accepts a JSON string containing the settings fields to update (partial update supported). Fields include authenticationMethod, enableEdgeComputeFeatures, edge configuration, and more.
    parameters:
      - name: settings
        description: A JSON string containing the settings fields to update
        type: string
        required: true
    annotations:
      title: Update Settings
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getPublicSettings
    description: Get the public settings of the Portainer instance. These settings are available without authentication and include authentication method, logo URL, OAuth configuration, and feature flags.
    annotations:
      title: Get Public Settings
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getSSLSettings
    description: Get the SSL settings of the Portainer instance, including certificate paths, HTTP enabled status, and self-signed flag.
    annotations:
      title: Get SSL Settings
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateSSLSettings
    description: Update the SSL settings of the Portainer instance. Allows updating the SSL certificate, key, and whether HTTP is enabled.
    parameters:
      - name: cert
        description: The SSL certificate content (PEM format)
        type: string
        required: false
      - name: key
        description: The SSL private key content (PEM format)
        type: string
        required: false
      - name: httpEnabled
        description: Whether HTTP is enabled (true/false)
        type: boolean
        required: false
    annotations:
      title: Update SSL Settings
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: listAppTemplates
    description: List all available application templates in Portainer. Returns template ID, title, description, type, image, categories, platform, and other metadata.
    annotations:
      title: List App Templates
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getAppTemplateFile
    description: Get the file content (e.g., docker-compose.yml) of a specific application template by its ID.
    parameters:
      - name: id
        description: The ID of the application template
        type: number
        required: true
    annotations:
      title: Get App Template File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: listEdgeJobs
    description: List all edge jobs configured in Portainer. Returns job ID, name, cron expression, recurring status, and edge groups
    annotations:
      title: List Edge Jobs
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getEdgeJob
    description: Get details of a specific edge job by ID, including name, cron expression, recurring status, and edge groups
    inputSchema:
      - name: id
        description: The ID of the edge job
        type: number
        required: true
    annotations:
      title: Get Edge Job
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getEdgeJobFile
    description: Get the script file content of a specific edge job by ID
    inputSchema:
      - name: id
        description: The ID of the edge job
        type: number
        required: true
    annotations:
      title: Get Edge Job File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createEdgeJob
    description: Create a new edge job with script content, cron schedule, and target environments or edge groups
    inputSchema:
      - name: name
        description: The name of the edge job
        type: string
        required: true
      - name: cronExpression
        description: The cron expression for job scheduling
        type: string
        required: true
      - name: fileContent
        description: The script content of the edge job
        type: string
        required: true
      - name: recurring
        description: Whether the job should run on a recurring schedule
        type: boolean
        required: false
      - name: endpoints
        description: Array of environment IDs to target
        type: array
        required: false
      - name: edgeGroups
        description: Array of edge group IDs to target
        type: array
        required: false
    annotations:
      title: Create Edge Job
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: true
  - name: deleteEdgeJob
    description: Delete an edge job by its ID
    inputSchema:
      - name: id
        description: The ID of the edge job to delete
        type: number
        required: true
    annotations:
      title: Delete Edge Job
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: false
  - name: listEdgeUpdateSchedules
    description: List all edge update schedules configured in Portainer. Returns schedule ID, name, type, status, scheduled time, and edge groups
    annotations:
      title: List Edge Update Schedules
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  ## Auth
  ## ------------------------------------------------------------
  - name: authenticate
    description: Authenticate a user against Portainer using a username and password. Returns a JWT token that can be used for subsequent API calls
    parameters:
      - name: username
        description: The username for authentication
        type: string
        required: true
      - name: password
        description: The password for authentication
        type: string
        required: true
    annotations:
      title: Authenticate User
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: true
  - name: logout
    description: Log out the current user session from Portainer
    annotations:
      title: Logout
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: true
  ## Helm
  ## ------------------------------------------------------------
  - name: listHelmRepositories
    description: List all Helm repositories configured for a user
    inputSchema:
      - name: userId
        description: The ID of the user
        type: number
        required: true
    annotations:
      title: List Helm Repositories
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: addHelmRepository
    description: Add a Helm repository for a user
    inputSchema:
      - name: userId
        description: The ID of the user
        type: number
        required: true
      - name: url
        description: The URL of the Helm repository to add
        type: string
        required: true
    annotations:
      title: Add Helm Repository
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: true
  - name: removeHelmRepository
    description: Remove a Helm repository for a user
    inputSchema:
      - name: userId
        description: The ID of the user
        type: number
        required: true
      - name: repositoryId
        description: The ID of the Helm repository to remove
        type: number
        required: true
    annotations:
      title: Remove Helm Repository
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: false
  - name: searchHelmCharts
    description: Search for Helm charts in a repository
    inputSchema:
      - name: repo
        description: The URL of the Helm repository to search
        type: string
        required: true
      - name: chart
        description: The name of the chart to search for
        type: string
        required: false
    annotations:
      title: Search Helm Charts
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: true
  - name: installHelmChart
    description: Install a Helm chart on an environment
    inputSchema:
      - name: environmentId
        description: The ID of the environment to install the chart on
        type: number
        required: true
      - name: chart
        description: The name of the chart to install
        type: string
        required: true
      - name: name
        description: The release name for the installed chart
        type: string
        required: true
      - name: repo
        description: The URL of the Helm repository containing the chart
        type: string
        required: true
      - name: namespace
        description: The Kubernetes namespace to install the chart in
        type: string
        required: false
      - name: values
        description: Custom values for the chart in YAML format
        type: string
        required: false
      - name: version
        description: The version of the chart to install
        type: string
        required: false
    annotations:
      title: Install Helm Chart
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: true
  - name: listHelmReleases
    description: List all Helm releases on an environment
    inputSchema:
      - name: environmentId
        description: The ID of the environment
        type: number
        required: true
      - name: namespace
        description: Filter releases by Kubernetes namespace
        type: string
        required: false
      - name: filter
        description: Filter releases by name pattern
        type: string
        required: false
      - name: selector
        description: Filter releases by label selector
        type: string
        required: false
    annotations:
      title: List Helm Releases
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteHelmRelease
    description: Delete a Helm release from an environment
    inputSchema:
      - name: environmentId
        description: The ID of the environment
        type: number
        required: true
      - name: release
        description: The name of the release to delete
        type: string
        required: true
      - name: namespace
        description: The Kubernetes namespace of the release
        type: string
        required: false
    annotations:
      title: Delete Helm Release
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: false
  - name: getHelmReleaseHistory
    description: Get the revision history of a Helm release
    inputSchema:
      - name: environmentId
        description: The ID of the environment
        type: number
        required: true
      - name: name
        description: The name of the Helm release
        type: string
        required: true
      - name: namespace
        description: The Kubernetes namespace of the release
        type: string
        required: false
    annotations:
      title: Get Helm Release History
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
