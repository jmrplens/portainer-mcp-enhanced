---
version: v1.2
tools:
  # === ACCESS GROUPS (7 tools) === #
  # Manage access groups for multi-environment permission policies.
  # An access group is the equivalent of an Endpoint Group in Portainer.
  - name: listAccessGroups
    description: "Returns a list of all access groups with their IDs and names. Use this to discover access group IDs for other operations."
    annotations:
      title: List Access Groups
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createAccessGroup
    description: "Create a new access group for managing permissions across multiple environments. Use 'listEnvironments' to get valid environment IDs. Related: updateAccessGroupUserAccesses, updateAccessGroupTeamAccesses."
    parameters:
      - name: name
        description: "Display name for the access group"
        type: string
        required: true
      - name: environmentIds
        description: "Numeric IDs of environments to include. Must list all desired environment IDs (replaces existing). Example: [1, 2, 3]"
        type: array
        items:
          type: number
    annotations:
      title: Create Access Group
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: updateAccessGroupName
    description: "Rename an existing access group. Use 'listAccessGroups' to find the access group ID."
    parameters:
      - name: id
        description: "Numeric ID of the access group to rename"
        type: number
        required: true
      - name: name
        description: "New display name for the access group"
        type: string
        required: true
    annotations:
      title: Update Access Group Name
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateAccessGroupUserAccesses
    description: "Set user-level access policies for all environments in an access group. Replaces all existing user accesses. Use 'listUsers' to get user IDs."
    parameters:
      - name: id
        description: "Numeric ID of the access group to update"
        type: number
        required: true
      - name: userAccesses
        description: "Full list of user access entries (replaces existing). Each entry maps a Portainer user ID to an access role. Example: [{id: 1, access: 'environment_administrator'}, {id: 2, access: 'standard_user'}]"
        type: array
        required: true
        items:
          type: object
          properties:
            id:
              description: "Numeric user ID from Portainer"
              type: number
            access:
              description: "Access role: environment_administrator (full control), helpdesk_user (limited admin), standard_user (normal access), readonly_user (view only), operator_user (operations)"
              type: string
              enum:
                - environment_administrator
                - helpdesk_user
                - standard_user
                - readonly_user
                - operator_user
    annotations:
      title: Update Access Group User Accesses
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateAccessGroupTeamAccesses
    description: "Set team-level access policies for all environments in an access group. Replaces all existing team accesses. Use 'listTeams' to get team IDs."
    parameters:
      - name: id
        description: "Numeric ID of the access group to update"
        type: number
        required: true
      - name: teamAccesses
        description: "Full list of team access entries (replaces existing). Each entry maps a Portainer team ID to an access role. Example: [{id: 1, access: 'environment_administrator'}, {id: 2, access: 'standard_user'}]"
        type: array
        required: true
        items:
          type: object
          properties:
            id:
              description: "Numeric team ID from Portainer"
              type: number
            access:
              description: "Access role: environment_administrator (full control), helpdesk_user (limited admin), standard_user (normal access), readonly_user (view only), operator_user (operations)"
              type: string
              enum:
                - environment_administrator
                - helpdesk_user
                - standard_user
                - readonly_user
                - operator_user
    annotations:
      title: Update Access Group Team Accesses
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: addEnvironmentToAccessGroup
    description: "Add a single environment to an existing access group. Use 'listEnvironments' to get environment IDs and 'listAccessGroups' to get access group IDs."
    parameters:
      - name: id
        description: "Numeric ID of the access group"
        type: number
        required: true
      - name: environmentId
        description: "Numeric ID of the environment to add"
        type: number
        required: true
    annotations:
      title: Add Environment To Access Group
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: removeEnvironmentFromAccessGroup
    description: "Remove a single environment from an access group. The environment itself is not deleted. Use 'listAccessGroups' to verify membership."
    parameters:
      - name: id
        description: "Numeric ID of the access group"
        type: number
        required: true
      - name: environmentId
        description: "Numeric ID of the environment to remove from the group"
        type: number
        required: true
    annotations:
      title: Remove Environment From Access Group
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false

  # === ENVIRONMENTS (8 tools) === #
  # Manage Portainer environments (Docker, Kubernetes, etc.).
  # An environment represents a Docker host, Swarm cluster, or Kubernetes cluster.
  - name: listEnvironments
    description: "Returns a list of all environments with their IDs, names, types, and status. Use this first to discover environment IDs needed by most other tools."
    annotations:
      title: List Environments
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getEnvironment
    description: "Returns full details of a specific environment including status, type, URL, tags, and group memberships. Use 'listEnvironments' to find the ID."
    parameters:
      - name: id
        description: "Numeric environment ID (from 'listEnvironments')"
        type: number
        required: true
    annotations:
      title: Get Environment
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteEnvironment
    description: "Permanently deletes an environment from Portainer. This only removes the Portainer reference — it does not affect the actual Docker host or cluster. Cannot be undone."
    parameters:
      - name: id
        description: "Numeric ID of the environment to permanently delete"
        type: number
        required: true
    annotations:
      title: Delete Environment
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: snapshotEnvironment
    description: "Trigger a state snapshot for a specific environment. Captures the current state of containers, images, volumes, and networks. Related: snapshotAllEnvironments."
    parameters:
      - name: id
        description: "Numeric ID of the environment to snapshot"
        type: number
        required: true
    annotations:
      title: Snapshot Environment
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: snapshotAllEnvironments
    description: "Trigger a state snapshot for all environments at once. Captures containers, images, volumes, and networks for each environment. Related: snapshotEnvironment for a single target."
    annotations:
      title: Snapshot All Environments
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentTags
    description: "Replace all tags on an environment. Provide the complete list of tag IDs to keep — omitted tags are removed. Use 'listEnvironmentTags' to find tag IDs."
    parameters:
      - name: id
        description: "Numeric ID of the environment to update"
        type: number
        required: true
      - name: tagIds
        description: >-
          Complete list of numeric tag IDs to assign.
          Must include all desired tags (replaces existing).
          Provide an empty array [] to remove all tags.
          Example: [1, 2, 3]
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Environment Tags
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentUserAccesses
    description: "Set user access policies for a specific environment. Replaces all existing user access entries. Use 'listUsers' to get user IDs."
    parameters:
      - name: id
        description: "Numeric ID of the environment to update"
        type: number
        required: true
      - name: userAccesses
        description: >-
          Full list of user access entries (replaces existing).
          Each entry maps a Portainer user ID to an access role.
          Provide an empty array [] to remove all user accesses.
          Example: [{id: 1, access: 'environment_administrator'}, {id: 2, access: 'standard_user'}]
        type: array
        required: true
        items:
          type: object
          properties:
            id:
              description: "Numeric user ID from Portainer"
              type: number
            access:
              description: "Access role: environment_administrator (full control), helpdesk_user (limited admin), standard_user (normal access), readonly_user (view only), operator_user (operations)"
              type: string
              enum:
                - environment_administrator
                - helpdesk_user
                - standard_user
                - readonly_user
                - operator_user
    annotations:
      title: Update Environment User Accesses
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentTeamAccesses
    description: "Set team access policies for a specific environment. Replaces all existing team access entries. Use 'listTeams' to get team IDs."
    parameters:
      - name: id
        description: "Numeric ID of the environment to update"
        type: number
        required: true
      - name: teamAccesses
        description: >-
          Full list of team access entries (replaces existing).
          Each entry maps a Portainer team ID to an access role.
          Provide an empty array [] to remove all team accesses.
          Example: [{id: 1, access: 'environment_administrator'}, {id: 2, access: 'standard_user'}]
        type: array
        required: true
        items:
          type: object
          properties:
            id:
              description: "Numeric team ID from Portainer"
              type: number
            access:
              description: "Access role: environment_administrator (full control), helpdesk_user (limited admin), standard_user (normal access), readonly_user (view only), operator_user (operations)"
              type: string
              enum:
                - environment_administrator
                - helpdesk_user
                - standard_user
                - readonly_user
                - operator_user
    annotations:
      title: Update Environment Team Accesses
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === ENVIRONMENT GROUPS (5 tools) === #
  # Manage environment groups (equivalent to Edge Groups in Portainer).
  # Used to group environments for edge stack deployments.
  - name: createEnvironmentGroup
    description: "Create a new environment group (Edge Group) with a name and initial set of environments. Use 'listEnvironments' to get environment IDs."
    parameters:
      - name: name
        description: "Display name for the environment group"
        type: string
        required: true
      - name: environmentIds
        description: "Numeric IDs of environments to include in the group"
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Create Environment Group
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: listEnvironmentGroups
    description: "Returns a list of all environment groups (Edge Groups) with their IDs, names, and member environments."
    annotations:
      title: List Environment Groups
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentGroupName
    description: "Rename an existing environment group (Edge Group). Use 'listEnvironmentGroups' to find the group ID."
    parameters:
      - name: id
        description: "Numeric ID of the environment group to rename"
        type: number
        required: true
      - name: name
        description: "New display name for the environment group"
        type: string
        required: true
    annotations:
      title: Update Environment Group Name
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentGroupEnvironments
    description: "Replace the list of environments in an environment group (Edge Group). Provide all desired environment IDs — omitted ones are removed."
    parameters:
      - name: id
        description: "Numeric ID of the environment group to update"
        type: number
        required: true
      - name: environmentIds
        description: >-
          Complete list of numeric environment IDs to assign.
          Must include all desired environments (replaces existing).
          Provide an empty array [] to remove all environments from the group.
          Example: [1, 2, 3]
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Environment Group Environments
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateEnvironmentGroupTags
    description: "Replace the tags on an environment group (Edge Group). Provide all desired tag IDs — omitted ones are removed. Use 'listEnvironmentTags' to find tag IDs."
    parameters:
      - name: id
        description: "Numeric ID of the environment group to update"
        type: number
        required: true
      - name: tagIds
        description: >-
          Complete list of numeric tag IDs to assign.
          Must include all desired tags (replaces existing).
          Provide an empty array [] to remove all tags from the group.
          Example: [1, 2, 3]
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Environment Group Tags
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === SETTINGS (1 tool) === #
  # Retrieve Portainer instance configuration.
  - name: getSettings
    description: "Returns the full Portainer instance settings including authentication method, edge configuration, and feature flags. Related: updateSettings, getPublicSettings."
    annotations:
      title: Get Settings
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === EDGE STACKS (5 tools) === #
  # Manage edge stacks deployed to Edge environments via Edge Groups.
  # For regular stacks deployed directly to environments, see Regular Stacks.
  - name: listStacks
    description: "Returns a list of all edge stacks deployed via Edge Groups. For regular Docker Compose/Swarm stacks deployed to specific environments, use 'listRegularStacks' instead."
    annotations:
      title: List Edge Stacks
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: listRegularStacks
    description: "Returns a list of all regular (non-edge) stacks with ID, name, type, status, and endpoint info. For edge stacks deployed via Edge Groups, use 'listStacks' instead."
    annotations:
      title: List Regular Stacks
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getStackFile
    description: "Returns the docker-compose.yml content for an edge stack. Use 'listStacks' to find the stack ID. For regular stack files, use 'inspectStackFile'."
    parameters:
      - name: id
        description: "Numeric ID of the edge stack"
        type: number
        required: true
    annotations:
      title: Get Stack File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createStack
    description: "Create a new edge stack with a docker-compose file and deploy it to environment groups. Use 'listEnvironmentGroups' to get group IDs. Example file: \"services:\\n  web:\\n    image: nginx\""
    parameters:
      - name: name
        description: "Stack name: lowercase alphanumeric, hyphens, underscores only. Must start with a letter or number"
        type: string
        required: true
      - name: file
        description: >-
          Content of the stack file. The file must be a valid
          docker-compose.yml file. example: services:
           web:
             image:nginx
        type: string
        required: true
      - name: environmentGroupIds
        description: "Numeric IDs of the environment groups to deploy to. At least one required. Example: [1, 2, 3]"
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Create Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: updateStack
    description: "Update an existing edge stack's compose file and environment group assignments. Use 'listStacks' to find the stack ID."
    parameters:
      - name: id
        description: "Numeric ID of the edge stack to update"
        type: number
        required: true
      - name: file
        description: >-
          Content of the stack file. The file must be a valid
          docker-compose.yml file. example: version: 3
           services:
             web:
               image:nginx
        type: string
        required: true
      - name: environmentGroupIds
        description: "Numeric IDs of the environment groups to deploy to. At least one required. Example: [1, 2, 3]"
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === REGULAR STACKS (8 tools) === #
  # Manage regular (non-edge) Docker Compose or Swarm stacks deployed to specific environments.
  # For edge stacks deployed via Edge Groups, see Edge Stacks.
  - name: getStack
    description: "Returns full details of a regular (non-edge) stack including name, type, status, environment, and git info. Use 'listRegularStacks' to find the stack ID."
    parameters:
      - name: id
        description: "Numeric ID of the regular stack to inspect"
        type: number
        required: true
    annotations:
      title: Get Stack
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteStack
    description: "Permanently deletes a regular (non-edge) stack and all its associated containers from the environment. Cannot be undone. Use 'listRegularStacks' to find stack/environment IDs."
    parameters:
      - name: id
        description: "Numeric ID of the stack to permanently delete"
        type: number
        required: true
      - name: environmentId
        description: "Numeric ID of the environment where the stack is deployed"
        type: number
        required: true
      - name: removeVolumes
        description: "Set to true to also delete associated Docker volumes (default: false)"
        type: boolean
        required: false
    annotations:
      title: Delete Stack
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: inspectStackFile
    description: "Returns the raw docker-compose.yml content for a regular (non-edge) stack. Use 'listRegularStacks' to find the stack ID. For edge stack files, use 'getStackFile'."
    parameters:
      - name: id
        description: "Numeric ID of the regular stack"
        type: number
        required: true
    annotations:
      title: Inspect Stack File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateStackGit
    description: "Update the git configuration (branch/tag and prune settings) of a regular (non-edge) stack. Use 'redeployStackGit' to apply changes."
    parameters:
      - name: id
        description: "Numeric ID of the stack to update"
        type: number
        required: true
      - name: environmentId
        description: "Numeric ID of the environment where the stack is deployed"
        type: number
        required: true
      - name: referenceName
        description: "Git reference name: branch (e.g. 'refs/heads/main') or tag (e.g. 'refs/tags/v1.0')"
        type: string
        required: false
      - name: prune
        description: "Set to true to remove services no longer defined in the compose file"
        type: boolean
        required: false
    annotations:
      title: Update Stack Git
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: redeployStackGit
    description: "Pull the latest changes from a git repository and redeploy a regular (non-edge) stack. Use 'updateStackGit' to change branch/tag first if needed."
    parameters:
      - name: id
        description: "Numeric ID of the stack to redeploy"
        type: number
        required: true
      - name: environmentId
        description: "Numeric ID of the environment where the stack is deployed"
        type: number
        required: true
      - name: pullImage
        description: "Set to true to pull the latest container images before redeploying"
        type: boolean
        required: false
      - name: prune
        description: "Set to true to remove services no longer defined in the compose file"
        type: boolean
        required: false
    annotations:
      title: Redeploy Stack Git
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: startStack
    description: "Start a stopped regular (non-edge) stack, bringing up all containers defined in its compose file. Related: stopStack."
    parameters:
      - name: id
        description: "Numeric ID of the stack to start"
        type: number
        required: true
      - name: environmentId
        description: "Numeric ID of the environment where the stack is deployed"
        type: number
        required: true
    annotations:
      title: Start Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: stopStack
    description: "Stop a running regular (non-edge) stack, stopping all containers defined in its compose file. Related: startStack."
    parameters:
      - name: id
        description: "Numeric ID of the stack to stop"
        type: number
        required: true
      - name: environmentId
        description: "Numeric ID of the environment where the stack is deployed"
        type: number
        required: true
    annotations:
      title: Stop Stack
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: migrateStack
    description: "Move a regular (non-edge) stack from one environment to another, optionally renaming it. The stack is removed from the source environment. Use 'listEnvironments' to get environment IDs."
    parameters:
      - name: id
        description: "Numeric ID of the stack to migrate"
        type: number
        required: true
      - name: environmentId
        description: "Numeric ID of the current source environment"
        type: number
        required: true
      - name: targetEnvironmentId
        description: "Numeric ID of the destination environment"
        type: number
        required: true
      - name: name
        description: "Optional new name for the stack in the target environment"
        type: string
        required: false
    annotations:
      title: Migrate Stack
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: false

  # === TAGS (3 tools) === #
  # Manage environment tags for organizing and filtering environments.
  - name: createEnvironmentTag
    description: "Create a new tag that can be assigned to environments. Use 'updateEnvironmentTags' to assign it after creation."
    parameters:
      - name: name
        description: "Display name for the tag (must be unique)"
        type: string
        required: true
    annotations:
      title: Create Environment Tag
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: listEnvironmentTags
    description: "Returns a list of all environment tags with their IDs and names. Use this to discover tag IDs for 'updateEnvironmentTags'."
    annotations:
      title: List Environment Tags
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteEnvironmentTag
    description: "Permanently deletes an environment tag by ID. The tag is removed from all environments that had it. Use 'listEnvironmentTags' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the environment tag to permanently delete"
        type: number
        required: true
    annotations:
      title: Delete Environment Tag
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false

  # === TEAMS (6 tools) === #
  # Manage teams and team membership for role-based access control.
  - name: createTeam
    description: "Create a new team. Use 'updateTeamMembers' to add users after creation. Related: updateAccessGroupTeamAccesses, updateEnvironmentTeamAccesses."
    parameters:
      - name: name
        description: "Display name for the team (must be unique)"
        type: string
        required: true
    annotations:
      title: Create Team
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: listTeams
    description: "Returns a list of all teams with their IDs and names. Use this to discover team IDs for access control operations."
    annotations:
      title: List Teams
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getTeam
    description: "Returns full details of a specific team by ID including name and member count. Use 'listTeams' to find the ID."
    parameters:
      - name: id
        description: "Numeric team ID (from 'listTeams')"
        type: number
        required: true
    annotations:
      title: Get Team
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteTeam
    description: "Permanently deletes a team by ID. Team members are not deleted but lose team-based access. Use 'listTeams' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the team to permanently delete"
        type: number
        required: true
    annotations:
      title: Delete Team
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: updateTeamName
    description: "Rename an existing team. Use 'listTeams' to find the team ID."
    parameters:
      - name: id
        description: "Numeric ID of the team to rename"
        type: number
        required: true
      - name: name
        description: "New display name for the team"
        type: string
        required: true
    annotations:
      title: Update Team Name
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateTeamMembers
    description: "Replace the member list of a team. Provide all desired user IDs — omitted users are removed from the team. Use 'listUsers' to get user IDs."
    parameters:
      - name: id
        description: "Numeric ID of the team to update"
        type: number
        required: true
      - name: userIds
        description: "Complete list of numeric user IDs to assign as team members (replaces existing). Example: [1, 2, 3]"
        type: array
        required: true
        items:
          type: number
    annotations:
      title: Update Team Members
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === USERS (5 tools) === #
  # Manage Portainer user accounts and roles.
  - name: listUsers
    description: "Returns a list of all Portainer users with their IDs, usernames, and roles. Use this to discover user IDs for access control."
    annotations:
      title: List Users
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getUser
    description: "Returns full details of a specific user by ID including username, role, and auth source. Use 'listUsers' to find the ID."
    parameters:
      - name: id
        description: "Numeric user ID (from 'listUsers')"
        type: number
        required: true
    annotations:
      title: Get User
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createUser
    description: "Create a new Portainer user account with a username, password, and role. Related: updateUserRole, updateTeamMembers."
    parameters:
      - name: username
        description: "Login username for the new user (must be unique)"
        type: string
        required: true
      - name: password
        description: "Initial password for the new user"
        type: string
        required: true
      - name: role
        description: "User role: admin (full Portainer access), user (standard access), edge_admin (edge device management)"
        type: string
        required: true
        enum:
          - admin
          - user
          - edge_admin
    annotations:
      title: Create User
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: deleteUser
    description: "Permanently deletes a Portainer user account by ID. The user loses all access immediately. Cannot be undone."
    parameters:
      - name: id
        description: "Numeric ID of the user to permanently delete"
        type: number
        required: true
    annotations:
      title: Delete User
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: updateUserRole
    description: "Change the role of an existing Portainer user. Use 'listUsers' to find the user ID."
    parameters:
      - name: id
        description: "Numeric ID of the user to update"
        type: number
        required: true
      - name: role
        description: "New user role: admin (full Portainer access), user (standard access), edge_admin (edge device management)"
        type: string
        required: true
        enum:
          - admin
          - user
          - edge_admin
    annotations:
      title: Update User Role
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === SYSTEM (1 tool) === #
  # Retrieve Portainer system information.
  - name: getSystemStatus
    description: "Returns the Portainer system status including version number and instance ID. Use this to verify the Portainer server is running."
    annotations:
      title: Get System Status
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === DOCKER PROXY (1 tool) === #
  # Proxy raw Docker Engine API requests through Portainer to a specific environment.
  - name: dockerProxy
    description: "Proxy any Docker Engine API request to a Portainer environment. Supports all operations from the Docker API v1.48 spec. Use 'listEnvironments' to get the environmentId. Example: {method: 'GET', dockerAPIPath: '/containers/json'} to list containers."
    parameters:
      - name: environmentId
        description: "Numeric ID of the target Docker environment (from 'listEnvironments')"
        type: number
        required: true
      - name: method
        description: "HTTP method for the Docker API call"
        type: string
        required: true
        enum:
          - GET
          - POST
          - PUT
          - DELETE
          - HEAD
      - name: dockerAPIPath
        description: "Docker API path with leading slash. Example: /containers/json, /images/json, /networks"
        type: string
        required: true
      - name: queryParams
        description: "Optional query parameters as key-value pairs. Example: [{key: 'all', value: 'true'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: "Query parameter name"
            value:
              type: string
              description: "Query parameter value"
      - name: headers
        description: "Optional HTTP headers as key-value pairs. Example: [{key: 'Content-Type', value: 'application/json'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: "Header name"
            value:
              type: string
              description: "Header value"
      - name: body
        description: "Optional JSON request body as a string. Example: '{\"Image\": \"nginx:latest\"}'"
        type: string
        required: false
    annotations:
      title: Docker Proxy
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: true

  # === DOCKER DASHBOARD (1 tool) === #
  # Get a high-level overview of Docker resources in an environment.
  - name: getDockerDashboard
    description: "Returns a summary dashboard for a Docker environment with counts and status of containers, images, networks, volumes, stacks, and services. Use 'listEnvironments' to get the environmentId."
    parameters:
      - name: environmentId
        description: "Numeric ID of the Docker environment (from 'listEnvironments')"
        type: number
        required: true
    annotations:
      title: Get Docker Dashboard
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === KUBERNETES PROXY (2 tools) === #
  # Proxy raw Kubernetes API requests through Portainer to a specific environment.
  - name: kubernetesProxy
    description: "Proxy any Kubernetes API request to a Portainer environment. Supports all operations from the K8s API v1.32 spec. Use 'listEnvironments' to get the environmentId. Example: {method: 'GET', kubernetesAPIPath: '/api/v1/namespaces/default/pods'} to list pods."
    parameters:
      - name: environmentId
        description: "Numeric ID of the target Kubernetes environment (from 'listEnvironments')"
        type: number
        required: true
      - name: method
        description: "HTTP method for the Kubernetes API call"
        type: string
        required: true
        enum:
          - GET
          - POST
          - PUT
          - DELETE
          - HEAD
      - name: kubernetesAPIPath
        description: "Kubernetes API path with leading slash. Example: /api/v1/namespaces/default/pods, /apis/apps/v1/deployments"
        type: string
        required: true
      - name: queryParams
        description: "Optional query parameters as key-value pairs. Example: [{key: 'labelSelector', value: 'app=nginx'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: "Query parameter name"
            value:
              type: string
              description: "Query parameter value"
      - name: headers
        description: "Optional HTTP headers as key-value pairs. Example: [{key: 'Content-Type', value: 'application/json'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: "Header name"
            value:
              type: string
              description: "Header value"
      - name: body
        description: "Optional JSON request body as a string. Example: '{\"apiVersion\": \"v1\", \"kind\": \"Pod\", \"metadata\": {\"name\": \"my-pod\"}}'"
        type: string
        required: false
    annotations:
      title: Kubernetes Proxy
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: true
  - name: getKubernetesResourceStripped
    description: >-
      Proxy a GET request to a Kubernetes environment and automatically strip verbose metadata (e.g. managedFields) for a leaner response.
      For write operations (POST, PUT, DELETE), use 'kubernetesProxy' instead.
    parameters:
      - name: environmentId
        description: "Numeric ID of the target Kubernetes environment (from 'listEnvironments')"
        type: number
        required: true
      - name: kubernetesAPIPath
        description: "Kubernetes API GET path with leading slash. Example: /api/v1/namespaces/default/pods"
        type: string
        required: true
      - name: queryParams
        description: "Optional query parameters as key-value pairs. Example: [{key: 'fieldSelector', value: 'metadata.name=my-pod'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: "Query parameter name"
            value:
              type: string
              description: "Query parameter value"
      - name: headers
        description: "Optional HTTP headers as key-value pairs. Example: [{key: 'Accept', value: 'application/json'}]"
        type: array
        required: false
        items:
          type: object
          properties:
            key:
              type: string
              description: "Header name"
            value:
              type: string
              description: "Header value"
    annotations:
      title: Get Kubernetes Resource (Stripped)
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: true

  # === KUBERNETES NATIVE (3 tools) === #
  # High-level Kubernetes operations through Portainer's native API.
  - name: getKubernetesDashboard
    description: "Returns a summary dashboard for a Kubernetes environment with counts of applications, config maps, ingresses, namespaces, secrets, services, and volumes. Use 'listEnvironments' to get the environmentId."
    parameters:
      - name: environmentId
        description: "Numeric ID of the Kubernetes environment (from 'listEnvironments')"
        type: number
        required: true
    annotations:
      title: Get Kubernetes Dashboard
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  - name: listKubernetesNamespaces
    description: "Returns a list of all Kubernetes namespaces in an environment including name, creation date, owner, and default/system status. Use 'listEnvironments' to get the environmentId."
    parameters:
      - name: environmentId
        description: "Numeric ID of the Kubernetes environment (from 'listEnvironments')"
        type: number
        required: true
    annotations:
      title: List Kubernetes Namespaces
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  - name: getKubernetesConfig
    description: "Returns the kubeconfig file content for a Kubernetes environment, which can be used to connect to the cluster externally. Use 'listEnvironments' to get the environmentId."
    parameters:
      - name: environmentId
        description: "Numeric ID of the Kubernetes environment (from 'listEnvironments')"
        type: number
        required: true
    annotations:
      title: Get Kubernetes Config
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === CUSTOM TEMPLATES (5 tools) === #
  # Manage reusable Docker Compose/Swarm/Kubernetes deployment templates.
  - name: listCustomTemplates
    description: "Returns a list of all custom templates with their IDs, titles, types, and platforms. Related: getCustomTemplate, getCustomTemplateFile."
    annotations:
      title: List Custom Templates
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getCustomTemplate
    description: "Returns full details of a custom template by ID including title, description, type, platform, and metadata. Use 'listCustomTemplates' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the custom template (from 'listCustomTemplates')"
        type: number
        required: true
    annotations:
      title: Get Custom Template
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getCustomTemplateFile
    description: "Returns the raw file content (e.g. docker-compose.yml) of a custom template. Use 'listCustomTemplates' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the custom template (from 'listCustomTemplates')"
        type: number
        required: true
    annotations:
      title: Get Custom Template File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createCustomTemplate
    description: "Create a new custom template from file content. Example: type=2 (compose), platform=1 (linux), fileContent='services:\\n  web:\\n    image: nginx'"
    parameters:
      - name: title
        description: "Display title for the custom template"
        type: string
        required: true
      - name: description
        description: "Brief description of what the template deploys"
        type: string
        required: true
      - name: fileContent
        description: "The template file content (e.g. docker-compose.yml or Kubernetes manifest)"
        type: string
        required: true
      - name: type
        description: "Template type: 1 = Swarm, 2 = Compose, 3 = Kubernetes"
        type: number
        required: true
      - name: platform
        description: "Target platform: 1 = Linux, 2 = Windows"
        type: number
        required: true
      - name: note
        description: "Optional usage notes or instructions for the template"
        type: string
        required: false
      - name: logo
        description: "Optional logo image URL for display in the template list"
        type: string
        required: false
    annotations:
      title: Create Custom Template
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: deleteCustomTemplate
    description: "Permanently deletes a custom template by ID. Existing stacks created from this template are not affected."
    parameters:
      - name: id
        description: "Numeric ID of the custom template to permanently delete"
        type: number
        required: true
    annotations:
      title: Delete Custom Template
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false

  # === WEBHOOKS (3 tools) === #
  # Manage webhooks for triggering service/container redeployments.
  - name: listWebhooks
    description: "Returns a list of all webhooks configured in Portainer with their IDs, types, and associated resources."
    annotations:
      title: List Webhooks
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createWebhook
    description: "Create a new webhook that triggers redeployment of a service or container. Use 'listEnvironments' to get the endpointId."
    parameters:
      - name: resourceId
        description: "The Docker resource ID (e.g. service ID) to associate with the webhook"
        type: string
        required: true
      - name: endpointId
        description: "Numeric ID of the environment where the resource is deployed (from 'listEnvironments')"
        type: number
        required: true
      - name: webhookType
        description: "Webhook type: 1 = service webhook (triggers service update)"
        type: number
        required: true
    annotations:
      title: Create Webhook
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: deleteWebhook
    description: "Permanently deletes a webhook by ID. The associated service/container is not affected. Use 'listWebhooks' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the webhook to permanently delete"
        type: number
        required: true
    annotations:
      title: Delete Webhook
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false

  # === REGISTRIES (5 tools) === #
  # Manage Docker container registries connected to Portainer.
  - name: listRegistries
    description: "Returns a list of all configured container registries with their IDs, names, types, and URLs."
    annotations:
      title: List Registries
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getRegistry
    description: "Returns full details of a specific registry by ID including URL, type, and authentication status. Use 'listRegistries' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the registry (from 'listRegistries')"
        type: number
        required: true
    annotations:
      title: Get Registry
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createRegistry
    description: "Connect a new container registry to Portainer. Example: {name: 'Docker Hub', type: 6, url: 'docker.io', authentication: true, username: 'user', password: 'pass'}"
    parameters:
      - name: name
        description: "Display name for the registry"
        type: string
        required: true
      - name: type
        description: "Registry type: 1 = Quay.io, 2 = Azure Container Registry, 3 = Custom, 4 = GitLab, 5 = ProGet, 6 = DockerHub, 7 = Amazon ECR"
        type: number
        required: true
      - name: url
        description: "Registry URL (e.g. 'docker.io', 'myregistry.example.com', 'quay.io')"
        type: string
        required: true
      - name: authentication
        description: "Set to true if the registry requires username/password authentication"
        type: boolean
        required: true
      - name: username
        description: "Username for registry authentication (when authentication is true)"
        type: string
        required: false
      - name: password
        description: "Password or access token for registry authentication"
        type: string
        required: false
      - name: baseURL
        description: "Separate API endpoint URL if the registry uses a different base for API calls"
        type: string
        required: false
    annotations:
      title: Create Registry
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: updateRegistry
    description: "Update an existing registry's configuration. Only provided fields are changed — omitted fields keep their current values. Use 'listRegistries' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the registry to update"
        type: number
        required: true
      - name: name
        description: "New display name for the registry"
        type: string
        required: false
      - name: url
        description: "New registry URL"
        type: string
        required: false
      - name: authentication
        description: "Whether the registry requires authentication"
        type: boolean
        required: false
      - name: username
        description: "New username for registry authentication"
        type: string
        required: false
      - name: password
        description: "New password or access token for registry authentication"
        type: string
        required: false
      - name: baseURL
        description: "New separate API endpoint URL"
        type: string
        required: false
    annotations:
      title: Update Registry
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteRegistry
    description: "Permanently deletes a registry connection from Portainer by ID. Existing images pulled from this registry are not affected."
    parameters:
      - name: id
        description: "Numeric ID of the registry to permanently delete"
        type: number
        required: true
    annotations:
      title: Delete Registry
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false

  # === BACKUP & RESTORE (5 tools) === #
  # Backup and restore the Portainer server configuration.
  - name: getBackupStatus
    description: "Returns the status of the last Portainer backup including success/failure state and timestamp. Related: createBackup, backupToS3."
    annotations:
      title: Get Backup Status
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getBackupS3Settings
    description: "Returns the current S3 backup settings including bucket name, region, and schedule. Related: backupToS3."
    annotations:
      title: Get Backup S3 Settings
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createBackup
    description: "Create a local backup of the Portainer server configuration. Returns the backup file. Optionally encrypt with a password."
    parameters:
      - name: password
        description: "Optional password to encrypt the backup file (remember this for restore)"
        type: string
        required: false
    annotations:
      title: Create Backup
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: false
  - name: backupToS3
    description: "Backup the Portainer server configuration to S3-compatible storage. Supports AWS S3 and compatible services (MinIO, etc.). Example: {accessKeyID: 'AKIA...', secretAccessKey: '...', bucketName: 'my-backups', region: 'us-east-1'}"
    parameters:
      - name: accessKeyID
        description: "AWS access key ID or S3-compatible service access key"
        type: string
        required: true
      - name: secretAccessKey
        description: "AWS secret access key or S3-compatible service secret key"
        type: string
        required: true
      - name: bucketName
        description: "Name of the S3 bucket to store the backup in"
        type: string
        required: true
      - name: region
        description: "AWS region of the bucket (e.g. 'us-east-1', 'eu-west-1')"
        type: string
        required: false
      - name: s3CompatibleHost
        description: "Custom S3 endpoint URL for non-AWS services (e.g. 'https://minio.example.com')"
        type: string
        required: false
      - name: password
        description: "Optional password to encrypt the backup file"
        type: string
        required: false
      - name: cronRule
        description: "Cron expression for scheduled backups (e.g. '0 2 * * *' for daily at 2 AM)"
        type: string
        required: false
    annotations:
      title: Backup to S3
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: true
  - name: restoreFromS3
    description: "Restore the Portainer server from an S3 backup. WARNING — this overwrites the current Portainer configuration. The server will restart after restore."
    parameters:
      - name: accessKeyID
        description: "AWS access key ID or S3-compatible service access key"
        type: string
        required: true
      - name: secretAccessKey
        description: "AWS secret access key or S3-compatible service secret key"
        type: string
        required: true
      - name: bucketName
        description: "Name of the S3 bucket containing the backup"
        type: string
        required: true
      - name: filename
        description: "Exact filename of the backup to restore from the bucket"
        type: string
        required: true
      - name: password
        description: "Password to decrypt the backup (if it was encrypted during creation)"
        type: string
        required: false
      - name: region
        description: "AWS region of the bucket (e.g. 'us-east-1', 'eu-west-1')"
        type: string
        required: false
      - name: s3CompatibleHost
        description: "Custom S3 endpoint URL for non-AWS services (e.g. 'https://minio.example.com')"
        type: string
        required: false
    annotations:
      title: Restore from S3
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: false
      openWorldHint: true

  # === ROLES & SYSTEM INFO (6 tools) === #
  # Retrieve roles, MOTD, and manage Portainer instance settings.
  - name: listRoles
    description: "Returns a list of all available Portainer roles with their authorizations and priority levels. Useful for understanding permission options."
    annotations:
      title: List Roles
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getMOTD
    description: "Returns the Portainer message of the day (MOTD) including title, message body, and style information."
    annotations:
      title: Get MOTD
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateSettings
    description: "Update Portainer instance settings with a partial JSON payload. Supports fields like authenticationMethod, enableEdgeComputeFeatures, and edge configuration. Use 'getSettings' first to see current values."
    parameters:
      - name: settings
        description: "JSON string with settings fields to update (partial update supported). Example: '{\"enableEdgeComputeFeatures\": true}'"
        type: string
        required: true
    annotations:
      title: Update Settings
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getPublicSettings
    description: "Returns publicly accessible Portainer settings (no auth required) including authentication method, logo URL, OAuth config, and feature flags."
    annotations:
      title: Get Public Settings
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getSSLSettings
    description: "Returns the SSL/TLS settings of the Portainer instance including certificate paths, HTTP enabled status, and self-signed flag. Related: updateSSLSettings."
    annotations:
      title: Get SSL Settings
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: updateSSLSettings
    description: "Update the SSL/TLS settings of the Portainer instance. Use 'getSSLSettings' to see current values first."
    parameters:
      - name: cert
        description: "SSL certificate content in PEM format"
        type: string
        required: false
      - name: key
        description: "SSL private key content in PEM format"
        type: string
        required: false
      - name: httpEnabled
        description: "Set to true to enable HTTP access alongside HTTPS, false for HTTPS only"
        type: boolean
        required: false
    annotations:
      title: Update SSL Settings
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === APP TEMPLATES (2 tools) === #
  # Browse and inspect built-in application templates.
  - name: listAppTemplates
    description: "Returns a list of all built-in application templates with their IDs, titles, descriptions, types, images, categories, and platform info."
    annotations:
      title: List App Templates
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getAppTemplateFile
    description: "Returns the file content (e.g. docker-compose.yml) of a built-in application template. Use 'listAppTemplates' to find the template ID."
    parameters:
      - name: id
        description: "Numeric ID of the application template (from 'listAppTemplates')"
        type: number
        required: true
    annotations:
      title: Get App Template File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === EDGE JOBS (5 tools) === #
  # Manage scheduled jobs that run on Edge environments.
  - name: listEdgeJobs
    description: "Returns a list of all edge jobs with their IDs, names, cron expressions, recurring status, and target edge groups."
    annotations:
      title: List Edge Jobs
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getEdgeJob
    description: "Returns full details of an edge job by ID including name, cron expression, recurring status, and target edge groups. Use 'listEdgeJobs' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the edge job (from 'listEdgeJobs')"
        type: number
        required: true
    annotations:
      title: Get Edge Job
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: getEdgeJobFile
    description: "Returns the script file content of an edge job. Use 'listEdgeJobs' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the edge job (from 'listEdgeJobs')"
        type: number
        required: true
    annotations:
      title: Get Edge Job File
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: createEdgeJob
    description: "Create a new edge job with a script, cron schedule, and target environments or edge groups. Example cronExpression: '0 2 * * *' (daily at 2 AM). Provide endpoints and/or edgeGroups for targeting."
    parameters:
      - name: name
        description: "Display name for the edge job"
        type: string
        required: true
      - name: cronExpression
        description: "Cron schedule expression (e.g. '0 2 * * *' for daily at 2 AM, '*/5 * * * *' for every 5 minutes)"
        type: string
        required: true
      - name: fileContent
        description: "Shell script content to execute on target environments"
        type: string
        required: true
      - name: recurring
        description: "Set to true for repeating schedule, false for one-time execution"
        type: boolean
        required: false
      - name: endpoints
        description: "Array of numeric environment IDs to target directly"
        type: array
        required: false
      - name: edgeGroups
        description: "Array of numeric edge group IDs to target (from 'listEnvironmentGroups')"
        type: array
        required: false
    annotations:
      title: Create Edge Job
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: true
  - name: deleteEdgeJob
    description: "Permanently deletes an edge job by ID. Scheduled executions are cancelled. Use 'listEdgeJobs' to find the ID."
    parameters:
      - name: id
        description: "Numeric ID of the edge job to permanently delete"
        type: number
        required: true
    annotations:
      title: Delete Edge Job
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false

  # === EDGE UPDATE SCHEDULES (1 tool) === #
  # View scheduled edge agent update operations.
  - name: listEdgeUpdateSchedules
    description: "Returns a list of all edge update schedules with their IDs, names, types, status, scheduled times, and target edge groups."
    annotations:
      title: List Edge Update Schedules
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false

  # === AUTHENTICATION (2 tools) === #
  # Authenticate and manage user sessions.
  - name: authenticate
    description: "Authenticate a user with username and password. Returns a JWT token for subsequent API calls. Related: logout."
    parameters:
      - name: username
        description: "Portainer login username"
        type: string
        required: true
      - name: password
        description: "Portainer login password"
        type: string
        required: true
    annotations:
      title: Authenticate User
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: true
  - name: logout
    description: "Log out the current user session and invalidate the JWT token. Related: authenticate."
    annotations:
      title: Logout
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: true
      openWorldHint: true

  # === HELM (8 tools) === #
  # Manage Helm repositories, charts, and releases on Kubernetes environments.
  - name: listHelmRepositories
    description: "Returns a list of all Helm repositories configured for a specific user. Use 'listUsers' to get the userId."
    parameters:
      - name: userId
        description: "Numeric Portainer user ID (from 'listUsers')"
        type: number
        required: true
    annotations:
      title: List Helm Repositories
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: addHelmRepository
    description: "Add a Helm chart repository for a user. The repository URL must be a valid Helm repo index. Use 'listUsers' to get the userId."
    parameters:
      - name: userId
        description: "Numeric Portainer user ID (from 'listUsers')"
        type: number
        required: true
      - name: url
        description: "Helm repository URL (e.g. 'https://charts.bitnami.com/bitnami')"
        type: string
        required: true
    annotations:
      title: Add Helm Repository
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: true
  - name: removeHelmRepository
    description: "Remove a Helm repository for a user. Installed releases from this repo are not affected. Use 'listHelmRepositories' to find the repositoryId."
    parameters:
      - name: userId
        description: "Numeric Portainer user ID (from 'listUsers')"
        type: number
        required: true
      - name: repositoryId
        description: "Numeric ID of the Helm repository to remove (from 'listHelmRepositories')"
        type: number
        required: true
    annotations:
      title: Remove Helm Repository
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: false
  - name: searchHelmCharts
    description: "Search for available Helm charts in a repository by name. Use 'listHelmRepositories' or 'addHelmRepository' to get the repo URL."
    parameters:
      - name: repo
        description: "Helm repository URL to search (e.g. 'https://charts.bitnami.com/bitnami')"
        type: string
        required: true
      - name: chart
        description: "Chart name or keyword to search for (e.g. 'nginx', 'postgresql')"
        type: string
        required: false
    annotations:
      title: Search Helm Charts
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: true
  - name: installHelmChart
    description: "Install a Helm chart as a new release on a Kubernetes environment. Example: {environmentId: 1, chart: 'nginx', name: 'my-nginx', repo: 'https://charts.bitnami.com/bitnami'}. Use 'searchHelmCharts' to find available charts."
    parameters:
      - name: environmentId
        description: "Numeric ID of the Kubernetes environment to install into (from 'listEnvironments')"
        type: number
        required: true
      - name: chart
        description: "Name of the Helm chart to install (e.g. 'nginx', 'postgresql')"
        type: string
        required: true
      - name: name
        description: "Release name for the installed chart (e.g. 'my-nginx')"
        type: string
        required: true
      - name: repo
        description: "Helm repository URL containing the chart (e.g. 'https://charts.bitnami.com/bitnami')"
        type: string
        required: true
      - name: namespace
        description: "Kubernetes namespace to install into (e.g. 'default', 'production')"
        type: string
        required: false
      - name: values
        description: "Custom chart values in YAML format to override defaults (e.g. 'replicaCount: 2\\nservice:\\n  type: LoadBalancer')"
        type: string
        required: false
      - name: version
        description: "Specific chart version to install (e.g. '15.3.1'). Defaults to latest"
        type: string
        required: false
    annotations:
      title: Install Helm Chart
      readOnlyHint: false
      destructiveHint: false
      idempotentHint: false
      openWorldHint: true
  - name: listHelmReleases
    description: "Returns a list of all Helm releases installed on a Kubernetes environment. Supports filtering by namespace, name pattern, and label selector."
    parameters:
      - name: environmentId
        description: "Numeric ID of the Kubernetes environment (from 'listEnvironments')"
        type: number
        required: true
      - name: namespace
        description: "Filter releases to a specific Kubernetes namespace (e.g. 'default')"
        type: string
        required: false
      - name: filter
        description: "Filter releases by name pattern (e.g. 'nginx' matches 'my-nginx')"
        type: string
        required: false
      - name: selector
        description: "Filter releases by Kubernetes label selector (e.g. 'app=nginx')"
        type: string
        required: false
    annotations:
      title: List Helm Releases
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
  - name: deleteHelmRelease
    description: "Permanently deletes a Helm release and all its associated Kubernetes resources from an environment. Use 'listHelmReleases' to find the release name."
    parameters:
      - name: environmentId
        description: "Numeric ID of the Kubernetes environment (from 'listEnvironments')"
        type: number
        required: true
      - name: release
        description: "Name of the Helm release to permanently delete (from 'listHelmReleases')"
        type: string
        required: true
      - name: namespace
        description: "Kubernetes namespace of the release (e.g. 'default')"
        type: string
        required: false
    annotations:
      title: Delete Helm Release
      readOnlyHint: false
      destructiveHint: true
      idempotentHint: true
      openWorldHint: true
  - name: getHelmReleaseHistory
    description: "Returns the revision history of a Helm release including version, status, and timestamps for each revision. Use 'listHelmReleases' to find the release name."
    parameters:
      - name: environmentId
        description: "Numeric ID of the Kubernetes environment (from 'listEnvironments')"
        type: number
        required: true
      - name: name
        description: "Name of the Helm release (from 'listHelmReleases')"
        type: string
        required: true
      - name: namespace
        description: "Kubernetes namespace of the release (e.g. 'default')"
        type: string
        required: false
    annotations:
      title: Get Helm Release History
      readOnlyHint: true
      destructiveHint: false
      idempotentHint: true
      openWorldHint: false
